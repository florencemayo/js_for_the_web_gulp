"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function _asyncToGenerator(s){return function(){var e=this,i=arguments;return new Promise(function(t,r){var n=s.apply(e,i);function a(e){asyncGeneratorStep(n,t,r,a,o,"next",e)}function o(e){asyncGeneratorStep(n,t,r,a,o,"throw",e)}a(void 0)})}}var api="https://master-7rqtwti-fus3tltfddn7w.eu-2.platformsh.site",loadButton=document.getElementById("load-button");function getRequest(n){return new Promise(function(e,t){var r=new XMLHttpRequest;r.open("GET",n),r.onreadystatechange=function(){4===r.readyState&&(200!==r.status&&t(JSON.parse(r.response)),e(JSON.parse(r.response)))},r.send()})}function getBlogPost(){return _getBlogPost.apply(this,arguments)}function _getBlogPost(){return(_getBlogPost=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=getRequest(api+"/generate-title"),r=getRequest(api+"/generate-lorem"),e.prev=2,e.next=5,Promise.all([t,r]);case 5:n=e.sent,a=_slicedToArray(n,2),o=a[0],i=a[1],document.querySelector("main").appendChild(buildPostElement(o.title,i.lorem)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),document.querySelector("main").appendChild(buildPostElement("An error occurred!",e.t0));case 15:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function buildPostElement(e,t){var r=document.createElement("div"),n=document.createElement("div"),a=document.createElement("h2"),o=document.createElement("p");return r.classList.add("card"),n.classList.add("card-body"),a.classList.add("card-title"),o.classList.add("card-text"),a.textContent=e,o.textContent=t,n.appendChild(a),n.appendChild(o),r.appendChild(n),r}loadButton.addEventListener("click",_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:getBlogPost();case 1:case"end":return e.stop()}},e)})));